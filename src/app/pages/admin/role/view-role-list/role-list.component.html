<div class="toolbar">
  <h2>Danh sách Role</h2>
  <button mat-button color="primary" (click)="openCreateDialog()">
    <mat-icon>add</mat-icon>
    Tạo Role
  </button>
</div>

<div class="sort-controls">
  <div class="group">
    <span>Sắp xếp:</span>
    <button mat-button [disabled]="sortMode() === 'name' && sortDir() === 'asc'" (click)="setSortByName('asc')">
      A → Z
    </button>
    <button mat-button [disabled]="sortMode() === 'name' && sortDir() === 'desc'" (click)="setSortByName('desc')">
      Z → A
    </button>
    <button mat-button [disabled]="sortMode() === 'system' && systemFirst()" (click)="setSortBySystem(true)">Hệ thống trước</button>
    <button mat-button [disabled]="sortMode() === 'system' && !systemFirst()" (click)="setSortBySystem(false)">Hệ thống sau</button>
  </div>
</div>

<ul class="role-items">
  <li *ngFor="let r of sortedRoles()">
    <div class="info">
      <div class="name">{{ r.roleName }}</div>
      <div class="meta">
        <span [class.badge]="true" [class.system]="r.isSystemDefined">{{ r.isSystemDefined ? 'System' : 'Custom' }}</span>
        <span class="badge" [class.active]="r.isActive">{{ r.isActive ? 'Active' : 'Inactive' }}</span>
      </div>
    </div>
    <div class="actions">
      <button mat-button (click)="managePermissions(r)"><mat-icon>shield</mat-icon> Quyền</button>
      <button mat-button (click)="openRenameDialog(r)" [disabled]="r.isSystemDefined"><mat-icon>edit</mat-icon> Cập nhật</button>
      <button mat-button color="warn" (click)="confirmDelete(r)" [disabled]="r.isSystemDefined || !r.isActive"><mat-icon>delete</mat-icon> Xóa</button>
    </div>
  </li>
</ul>
